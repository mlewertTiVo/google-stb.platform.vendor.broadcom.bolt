/***************************************************************************
 *     Copyright (c) 2012-2015, Broadcom Corporation
 *     All Rights Reserved
 *     Confidential Property of Broadcom Corporation
 *
 *  THIS SOFTWARE MAY ONLY BE USED SUBJECT TO AN EXECUTED SOFTWARE LICENSE
 *  AGREEMENT  BETWEEN THE USER AND BROADCOM.  YOU HAVE NO RIGHT TO USE OR
 *  EXPLOIT THIS MATERIAL EXCEPT SUBJECT TO THE TERMS OF SUCH AN AGREEMENT.
 *
 ***************************************************************************/

/*
 * SD Host Controller register definitions based on the SD Host Controller
 * Specification Version 3.00.
 */

#ifndef _SDHC_H_
#define _SDHC_H_

#define SDHC_REG_SDMA			0x00
#define SDHC_REG_BLKCNT_BLKSIZE		0x04
#define   SDHC_REG_BLKSIZE_MASK		0xfff
#define   SDHC_MAKE_BLK_REG(count, size, boundry) \
	((count << 16) | ((boundry & 0x7) << 12) | (size & 0xfff))
#define SDHC_REG_ARGUMENT		0x08
#define SDHC_REG_CMD_MODE		0x0c
#define   SDHC_MODE_DMA			0x00000001
#define   SDHC_MODE_BLK_CNT		0x00000002
#define   SDHC_MODE_ACMD12		0x00000004
#define   SDHC_MODE_ACMD23		0x00000008
#define   SDHC_MODE_XFER_DIR_READ	0x00000010
#define   SDHC_MODE_MULTI		0x00000020
#define   SDHC_CMD_INDEX_MASK		0x3f000000
#define   SDHC_CMD_INDEX_SHIFT		24
#define   SDHC_CMD_DATA			0x00200000
#define   SDHC_CMD_CHK_INDEX		0x00100000
#define   SDHC_CMD_CHK_CRC		0x00080000
#define   SDHC_CMD_RESP_MASK		0x00030000
#define   SDHC_CMD_RESP_NONE		0x00000000
#define   SDHC_CMD_RESP_48_BSY		0x00030000
#define   SDHC_CMD_RESP_48		0x00020000
#define   SDHC_CMD_RESP_136		0x00010000
#define SDHC_REG_RESPONSE_01		0x10
#define SDHC_REG_RESPONSE_23		0x14
#define SDHC_REG_RESPONSE_45		0x18
#define SDHC_REG_RESPONSE_67		0x1c
#define SDHC_REG_BUFFER_PORT		0x20
#define SDHC_REG_STATE			0x24
#define   SDHC_STATE_WP			0x00080000
#define   SDHC_STATE_DETECT		0x00040000
#define   SDHC_STATE_STABLE		0x00020000
#define   SDHC_STATE_INSTERTED		0x00010000
#define   SDHC_STATE_BUF_READ_RDY	0x00000800
#define   SDHC_STATE_BUF_WRITE_RDY	0x00000400
#define   SDHC_STATE_CMD_INHIBIT_DAT	0x00000002
#define   SDHC_STATE_CMD_INHIBIT	0x00000001
#define SDHC_REG_CONTROL_0		0x28
#define   SDHC_BUS_VOLT_MASK		0x00000e00
#define   SDHC_BUS_VOLT_SHIFT		9
#define   SDHC_BUS_VOLT_3_3		7
#define   SDHC_BUS_VOLT_3_0		6
#define   SDHC_BUS_VOLT_1_8		5
#define   SDHC_BUS_PWR			0x00000100
#define   SDHC_CTL1_8BIT		0x00000020
#define   SDHC_CTL1_HIGH_SPEED		0x00000004
#define   SDHC_CTL1_4BIT		0x00000002
#define   SDHC_CTL1_LED			0x00000001
#define SDHC_REG_CONTROL_1		0x2c
#define   SDHC_SW_RESET_DAT		0x04000000
#define   SDHC_SW_RESET_CMD		0x02000000
#define   SDHC_SW_RESET_ALL		0x01000000
#define   SDHC_TOCTL_TIMEOUT_MASK	0x000f0000
#define   SDHC_TOCTL_TIMEOUT_SHIFT	16
#define   SDHC_CLKCTL_FREQ_MASK		0x0000ff00
#define   SDHC_CLKCTL_FREQ_SHIFT	8
#define   SDHC_CLKCTL_FREQ_UPPER_MASK	0x000000c0
#define   SDHC_CLKCTL_FREQ_UPPER_SHIFT	6
#define   SDHC_CLKCTL_CGEN_SEL		0x00000020
#define   SDHC_CLKCTL_SD_CLK_ENA	0x00000004
#define   SDHC_CLKCTL_INTERN_CLK_STABLE	0x00000002
#define   SDHC_CLKCTL_INTERN_CLK_ENA	0x00000001
#define SDHC_REG_INTR_STAT		0x30
#define   SDHC_INT_CMD_COMPLETE		0x00000001
#define   SDHC_INT_XFER_COMPLETE	0x00000002
#define   SDHC_INT_XFER_DMA		0x00000008
#define   SDHC_INT_WRITE_BUF		0x00000010
#define   SDHC_INT_READ_BUF		0x00000020
#define   SDHC_INT_CARD_INSERTED	0x00000040
#define   SDHC_INT_CARD_REMOVE		0x00000080
#define   SDHC_INT_CARD_INT		0x00000100
#define   SDHC_INT_ERR			0x00008000
#define   SDHC_INT_ERR_CMD_TO		0x00010000
#define   SDHC_INT_ERR_CMD_CRC		0x00020000
#define   SDHC_INT_ERR_CMD_END_BIT	0x00040000
#define   SDHC_INT_ERR_CMD_INDEX	0x00080000
#define   SDHC_INT_ERR_DATA_TO		0x00100000
#define   SDHC_INT_ERR_DATA_CRC		0x00200000
#define   SDHC_INT_ERR_DATA_END_BIT	0x00400000
#define   SDHC_INT_ERR_CURRENT_LIMIT	0x00800000
#define   SDHC_INT_ERR_ACMD		0x01000000
#define   SDHC_INT_ERR_ADMA		0x02000000
#define   SDHC_INT_ERR_TUNING		0x04000000
#define   SDHC_INT_ERR_MASK		0xffff0000
#define SDHC_REG_INTR_STAT_ENABLE	0x34
#define SDHC_REG_INTR_SIG_ENABLE	0x38
#define SDHC_REG_CONTROL_2		0x3c
#define SDHC_REG_CAPABILITIES_0		0x40
#define   SDHC_CAP0_BASE_CLK_FREQ_MASK	0x0000ff00
#define   SDHC_CAP0_BASE_CLK_FREQ_SHIFT 8
#define SDHC_REG_CAPABILITIES_1		0x44


#define SDHC_STAT_ERROR_MASK		0xffff8000

#endif /* _SDHC_H_ */
