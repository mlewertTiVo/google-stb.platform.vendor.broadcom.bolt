/***************************************************************************
 *     Copyright (c) 2012-2014, Broadcom Corporation
 *     All Rights Reserved
 *     Confidential Property of Broadcom Corporation
 *
 *  THIS SOFTWARE MAY ONLY BE USED SUBJECT TO AN EXECUTED SOFTWARE LICENSE
 *  AGREEMENT  BETWEEN THE USER AND BROADCOM.  YOU HAVE NO RIGHT TO USE OR
 *  EXPLOIT THIS MATERIAL EXCEPT SUBJECT TO THE TERMS OF SUCH AN AGREEMENT.
 *
 ***************************************************************************/

#include <fsbl-common.h>

#define SHMOO_ARRAY_SIZE	0x00000260
#define SHMOO_ARRAY_ELEMENTS	0x00000098

/* 3390A0_1067MHz_32b_dev1Gx16_DDR3-2133N_le.mcb
*/
static const uint32_t memsys_config_template[SHMOO_ARRAY_ELEMENTS] __attribute__ ((section(".mcbdata"))) = {
	0x0132a6ef,	/* 0 */
	0x00000000,	/* 1 */
	0x00000000,	/* 2 */
	0x8861c275,	/* 3 */
	0x00020301,	/* 4 */
	0x00001102,	/* 5 */
	0x00103523,	/* 6 */
	0x0000b130,	/* 7 */
	0x0000f001,	/* 8 */
	0x00001100,	/* 9 */
	0x0337f980,	/* 10 */
	0x00000144,	/* 11 */
	0x0000042b,	/* 12 */
	0x00000000,	/* 13 */
	0x00000001,	/* 14 */
	0x00000001,	/* 15 */
	0x00000400,	/* 16 */
	0x00000000,	/* 17 */
	0x28002100,	/* 18 */
	0x00000000,	/* 19 */
	0x0000038e,	/* 20 */
	0x0000039b,	/* 21 */
	0x00000484,	/* 22 */
	0x00000493,	/* 23 */
	0x00000008,	/* 24 */
	0x00000243,	/* 25 */
	0x00000000,	/* 26 */
	0x00010820,	/* 27 */
	0x00001510,	/* 28 */
	0x24070e0e,	/* 29 */
	0x08100a0e,	/* 30 */
	0x00048078,	/* 31 */
	0x00000000,	/* 32 */
	0x00000000,	/* 33 */
	0x00000000,	/* 34 */
	0x00000000,	/* 35 */
	0x00001124,	/* 36 */
	0x00000002,	/* 37 */
	0x00000228,	/* 38 */
	0x00000000,	/* 39 */
	0x00000000,	/* 40 */
	0x00000000,	/* 41 */
	0x00000000,	/* 42 */
	0x00000000,	/* 43 */
	0x00000000,	/* 44 */
	0x00000000,	/* 45 */
	0x00000000,	/* 46 */
	0x00000000,	/* 47 */
	0x00000000,	/* 48 */
	0x00000000,	/* 49 */
	0x00000000,	/* 50 */
	0x00000000,	/* 51 */
	0x00000000,	/* 52 */
	0x00000220,	/* 53 */
	0x55010012,	/* 54 */
	0x10000000,	/* 55 */
	0x00101027,	/* 56 */
	0x00048174,	/* 57 */
	0x000019b1,	/* 58 */
	0x00032470,	/* 59 */
	0x0bffffff,	/* 60 */
	0x003fffff,	/* 61 */
	0x00000004,	/* 62 */
	0x0000038e,	/* 63 */
	0x0000039b,	/* 64 */
	0x00000484,	/* 65 */
	0x00000493,	/* 66 */
	0x00000008,	/* 67 */
	0x00000000,	/* 68 */
	0x00000000,	/* 69 */
	0x00000001,	/* 70 */
	0x00001124,	/* 71 */
	0x00000002,	/* 72 */
	0x00000228,	/* 73 */
	0x070e0e24,	/* 74 */
	0x00202608,	/* 75 */
	0x0716160b,	/* 76 */
	0x0e300e10,	/* 77 */
	0x000782ab,	/* 78 */
	0x0281c200,	/* 79 */
	0x000e0a0b,	/* 80 */
	0x04040404,	/* 81 */
	0x00000007,	/* 82 */
	0x00002921,	/* 83 */
	0x00000018,	/* 84 */
	0x00000018,	/* 85 */
	0x00000004,	/* 86 */
	0x00000011,	/* 87 */
	0x00000002,	/* 88 */
	0x00050000,	/* 89 */
	0x8f800056,	/* 90 */
	0x0269fb20,	/* 91 */
	0x00000000,	/* 92 */
	0x00000000,	/* 93 */
	0x00000000,	/* 94 */
	0x00000000,	/* 95 */
	0x00000000,	/* 96 */
	0x00000000,	/* 97 */
	0x00000000,	/* 98 */
	0x00000000,	/* 99 */
	0x00000000,	/* 100 */
	0x00000000,	/* 101 */
	0x00000000,	/* 102 */
	0x00000000,	/* 103 */
	0x01fc1440,	/* 104 */
	0x00000000,	/* 105 */
	0x00000000,	/* 106 */
	0x00000000,	/* 107 */
	0x00000000,	/* 108 */
	0x00000000,	/* 109 */
	0x00000000,	/* 110 */
	0x00000000,	/* 111 */
	0x00000000,	/* 112 */
	0x00000000,	/* 113 */
	0x00000000,	/* 114 */
	0x00000000,	/* 115 */
	0x00000000,	/* 116 */
	0x00000000,	/* 117 */
	0x00000087,	/* 118 */
	0x01010101,	/* 119 */
	0x01010101,	/* 120 */
	0x01010101,	/* 121 */
	0x01010101,	/* 122 */
	0x01010101,	/* 123 */
	0x01010101,	/* 124 */
	0x01010101,	/* 125 */
	0x00000101,	/* 126 */
	0x00000001,	/* 127 */
	0x01000101,	/* 128 */
	0x00000210,	/* 129 */
	0x00000102,	/* 130 */
	0x00000000,	/* 131 */
	0x00000000,	/* 132 */
	0x00000000,	/* 133 */
	0x00000000,	/* 134 */
	0x00000000,	/* 135 */
	0x00000000,	/* 136 */
	0x00000000,	/* 137 */
	0x00000000,	/* 138 */
	0x00000000,	/* 139 */
	0x00000028,	/* 140 */
	0x00000028,	/* 141 */
	0x00000078,	/* 142 */
	0x00000078,	/* 143 */
	0x009de000,	/* 144 */
	0x00000000,	/* 145 */
	0x00000000,	/* 146 */
	0x00000000,	/* 147 */
	0x00000000,	/* 148 */
	0x00000000,	/* 149 */
	0x00000000,	/* 150 */
	0x00000000,	/* 151 */
};

/* 3390A0_1067MHz_32b_dev1Gx16_DDR3-2133N_le.mcb
*/
static const uint32_t mcb_1067mhz_32b_dev1Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0xffffffff,  0x11f62bd9,	/* -1 */
}; /* 0 difference */

/* 3390A0_1067MHz_32b_dev4Gx16_DDR3-2133N_le.mcb
*/
static const uint32_t mcb_1067mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x88abcf54,	/* 3 */
	0x00000006,  0x00503522,	/* 6 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001f,  0x00048118,	/* 31 */
	0x0000004e,  0x001182ab,	/* 78 */
	0x00000053,  0x00002941,	/* 83 */
	0xffffffff,  0x128a4597,	/* -1 */
}; /* 7 differences */

/* 3390A0_533MHz_32b_dev4Gx16_DDR3-1066F_le.mcb
*/
static const uint32_t mcb_533mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x6a925110,	/* 3 */
	0x00000006,  0x00103522,	/* 6 */
	0x0000000c,  0x00000215,	/* 12 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001d,  0x14060707,	/* 29 */
	0x0000001e,  0x04080607,	/* 30 */
	0x0000001f,  0x0004408c,	/* 31 */
	0x00000024,  0x00001930,	/* 36 */
	0x00000026,  0x00000208,	/* 38 */
	0x00000038,  0x00201027,	/* 56 */
	0x00000039,  0x0003eaa8,	/* 57 */
	0x0000003b,  0x000323b0,	/* 59 */
	0x00000047,  0x00001930,	/* 71 */
	0x00000049,  0x00000208,	/* 73 */
	0x0000004a,  0x06070714,	/* 74 */
	0x0000004b,  0x00201b04,	/* 75 */
	0x0000004c,  0x060e0e08,	/* 76 */
	0x0000004d,  0x0730070c,	/* 77 */
	0x0000004e,  0x0008c200,	/* 78 */
	0x0000004f,  0x01c10200,	/* 79 */
	0x00000050,  0x00070307,	/* 80 */
	0x00000053,  0x00002941,	/* 83 */
	0x0000005a,  0x8f800040,	/* 90 */
	0xffffffff,  0xd657490f,	/* -1 */
}; /* 24 differences */

/* 3390A0_667MHz_32b_dev4Gx16_DDR3-1333H_le.mcb
*/
static const uint32_t mcb_667mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x6fdf76b0,	/* 3 */
	0x00000006,  0x00203522,	/* 6 */
	0x0000000c,  0x0000029b,	/* 12 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001d,  0x18050909,	/* 29 */
	0x0000001e,  0x050a0709,	/* 30 */
	0x0000001f,  0x000450b0,	/* 31 */
	0x00000024,  0x00001b50,	/* 36 */
	0x00000026,  0x00000210,	/* 38 */
	0x00000038,  0x00101018,	/* 56 */
	0x00000039,  0x0008e3c2,	/* 57 */
	0x0000003a,  0x00001011,	/* 58 */
	0x0000003b,  0x0001f6e0,	/* 59 */
	0x00000047,  0x00001b50,	/* 71 */
	0x00000049,  0x00000210,	/* 73 */
	0x0000004a,  0x05090918,	/* 74 */
	0x0000004b,  0x00201e05,	/* 75 */
	0x0000004c,  0x05101009,	/* 76 */
	0x0000004d,  0x0930090c,	/* 77 */
	0x0000004e,  0x000b0200,	/* 78 */
	0x0000004f,  0x02010200,	/* 79 */
	0x00000050,  0x00090508,	/* 80 */
	0x00000053,  0x00002941,	/* 83 */
	0x0000005a,  0x8f800040,	/* 90 */
	0xffffffff,  0xe0f1944f,	/* -1 */
}; /* 25 differences */

/* 3390A0_800MHz_32b_dev4Gx16_DDR3-1600K_le.mcb
*/
static const uint32_t mcb_800mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x78f997c7,	/* 3 */
	0x00000006,  0x00303522,	/* 6 */
	0x0000000c,  0x00000320,	/* 12 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001d,  0x1c060b0b,	/* 29 */
	0x0000001e,  0x060c080b,	/* 30 */
	0x0000001f,  0x000460d0,	/* 31 */
	0x00000024,  0x00001d70,	/* 36 */
	0x00000026,  0x00000218,	/* 38 */
	0x00000038,  0x0010101d,	/* 56 */
	0x00000039,  0x00073b64,	/* 57 */
	0x0000003a,  0x00001341,	/* 58 */
	0x0000003b,  0x00025b20,	/* 59 */
	0x00000047,  0x00001d70,	/* 71 */
	0x00000049,  0x00000218,	/* 73 */
	0x0000004a,  0x060b0b1c,	/* 74 */
	0x0000004b,  0x00202006,	/* 75 */
	0x0000004c,  0x0612120a,	/* 76 */
	0x0000004d,  0x0b300b0c,	/* 77 */
	0x0000004e,  0x000d0200,	/* 78 */
	0x0000004f,  0x02014200,	/* 79 */
	0x00000050,  0x000b0709,	/* 80 */
	0x00000053,  0x00002941,	/* 83 */
	0x0000005a,  0x8f800040,	/* 90 */
	0xffffffff,  0xf325d67d,	/* -1 */
}; /* 25 differences */

/* 3390A0_933MHz_32b_dev4Gx16_DDR3-1866M_le.mcb
*/
static const uint32_t mcb_933mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x8052f76d,	/* 3 */
	0x00000006,  0x00403522,	/* 6 */
	0x0000000c,  0x000003a5,	/* 12 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001d,  0x20060d0d,	/* 29 */
	0x0000001e,  0x070e090d,	/* 30 */
	0x0000001f,  0x000470f4,	/* 31 */
	0x00000024,  0x00001f14,	/* 36 */
	0x00000026,  0x00000220,	/* 38 */
	0x00000038,  0x00101022,	/* 56 */
	0x00000039,  0x00059306,	/* 57 */
	0x0000003a,  0x00001681,	/* 58 */
	0x0000003b,  0x0002bf70,	/* 59 */
	0x00000047,  0x00001f14,	/* 71 */
	0x00000049,  0x00000220,	/* 73 */
	0x0000004a,  0x060d0d20,	/* 74 */
	0x0000004b,  0x00202107,	/* 75 */
	0x0000004c,  0x0614140b,	/* 76 */
	0x0000004d,  0x0d300d0e,	/* 77 */
	0x0000004e,  0x000f4256,	/* 78 */
	0x0000004f,  0x02418200,	/* 79 */
	0x00000050,  0x000d090a,	/* 80 */
	0x00000053,  0x00002941,	/* 83 */
	0x0000005a,  0x8f80004b,	/* 90 */
	0xffffffff,  0x01d895c9,	/* -1 */
}; /* 25 differences */

const struct memsys_info __maybe_unused shmoo_data[] __attribute__ ((section(".mcbtable"))) = {
	{ NULL, MCB_MAGIC1, MCB_MAGIC2, MCB_MAGIC3, -1, NULL },
	{ memsys_config_template,	MCB_MAGIC1,	SHMOO_ARRAY_SIZE,	SHMOO_ARRAY_ELEMENTS, -1, NULL },
	{ mcb_1067mhz_32b_dev1Gx16,	1067,	1024,	16, 32, NULL },
	{ mcb_1067mhz_32b_dev4Gx16,	1067,	4096,	16, 32, NULL },
	{ mcb_533mhz_32b_dev4Gx16,	533,	4096,	16, 32, NULL },
	{ mcb_667mhz_32b_dev4Gx16,	667,	4096,	16, 32, NULL },
	{ mcb_800mhz_32b_dev4Gx16,	800,	4096,	16, 32, NULL },
	{ mcb_933mhz_32b_dev4Gx16,	933,	4096,	16, 32, NULL },
	{ NULL, 0, 0, 0, 0, NULL },
};


/* under 3390a0/... */

/* exttemp_1067MHz_32b_dev4Gx16_DDR3-2133N_le.mcb
*/
static const uint32_t exttemp_1067mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x883cd1f3,	/* 3 */
	0x00000005,  0x00001202,	/* 5 */
	0x00000006,  0x003035c1,	/* 6 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001f,  0x00048118,	/* 31 */
	0x00000026,  0x000002a8,	/* 38 */
	0x00000049,  0x000002a8,	/* 73 */
	0x0000004e,  0x001182ab,	/* 78 */
	0x00000053,  0x00002941,	/* 83 */
	0x00000090,  0x004ee000,	/* 144 */
	0xffffffff,  0x11ac4ad5,	/* -1 */
}; /* 11 differences */

/* exttemp_533MHz_32b_dev4Gx16_DDR3-1066F_le.mcb
*/
static const uint32_t exttemp_533mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x6a4353af,	/* 3 */
	0x00000005,  0x00001202,	/* 5 */
	0x00000006,  0x001035c1,	/* 6 */
	0x0000000c,  0x00000215,	/* 12 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001d,  0x14060707,	/* 29 */
	0x0000001e,  0x04080607,	/* 30 */
	0x0000001f,  0x0004408c,	/* 31 */
	0x00000024,  0x00001930,	/* 36 */
	0x00000026,  0x00000288,	/* 38 */
	0x00000038,  0x00201027,	/* 56 */
	0x00000039,  0x0003eaa8,	/* 57 */
	0x0000003b,  0x000323b0,	/* 59 */
	0x00000047,  0x00001930,	/* 71 */
	0x00000049,  0x00000288,	/* 73 */
	0x0000004a,  0x06070714,	/* 74 */
	0x0000004b,  0x00201b04,	/* 75 */
	0x0000004c,  0x060e0e08,	/* 76 */
	0x0000004d,  0x0730070c,	/* 77 */
	0x0000004e,  0x0008c200,	/* 78 */
	0x0000004f,  0x01c10200,	/* 79 */
	0x00000050,  0x00070307,	/* 80 */
	0x00000053,  0x00002941,	/* 83 */
	0x0000005a,  0x8f800040,	/* 90 */
	0x00000090,  0x004ee000,	/* 144 */
	0xffffffff,  0xd5b94e4d,	/* -1 */
}; /* 26 differences */

/* exttemp_800MHz_32b_dev4Gx16_DDR3-1600K_le.mcb
*/
static const uint32_t exttemp_800mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = {
	0x00000003,  0x789a9a66,	/* 3 */
	0x00000005,  0x00001202,	/* 5 */
	0x00000006,  0x002035c1,	/* 6 */
	0x0000000c,  0x00000320,	/* 12 */
	0x00000010,  0x00001000,	/* 16 */
	0x0000001c,  0x00001530,	/* 28 */
	0x0000001d,  0x1c060b0b,	/* 29 */
	0x0000001e,  0x060c080b,	/* 30 */
	0x0000001f,  0x000460d0,	/* 31 */
	0x00000024,  0x00001d70,	/* 36 */
	0x00000026,  0x00000298,	/* 38 */
	0x00000038,  0x0010101d,	/* 56 */
	0x00000039,  0x00073b64,	/* 57 */
	0x0000003a,  0x00001341,	/* 58 */
	0x0000003b,  0x00025b20,	/* 59 */
	0x00000047,  0x00001d70,	/* 71 */
	0x00000049,  0x00000298,	/* 73 */
	0x0000004a,  0x060b0b1c,	/* 74 */
	0x0000004b,  0x00202006,	/* 75 */
	0x0000004c,  0x0612120a,	/* 76 */
	0x0000004d,  0x0b300b0c,	/* 77 */
	0x0000004e,  0x000d0200,	/* 78 */
	0x0000004f,  0x02014200,	/* 79 */
	0x00000050,  0x000b0709,	/* 80 */
	0x00000053,  0x00002941,	/* 83 */
	0x0000005a,  0x8f800040,	/* 90 */
	0x00000090,  0x004ee000,	/* 144 */
	0xffffffff,  0xf267dbbb,	/* -1 */
}; /* 27 differences */

static const char tag_exttemp_1067mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = "exttemp";
static const char tag_exttemp_533mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = "exttemp";
static const char tag_exttemp_800mhz_32b_dev4Gx16[] __attribute__ ((section(".mcbdata"))) = "exttemp";
const struct memsys_info __maybe_unused customshmoo_data[] __attribute__ ((section(".mcbsubtable"))) = {
	{ NULL, MCB_MAGIC1, MCB_MAGIC2, MCB_MAGIC3, -1, NULL },
	{ exttemp_1067mhz_32b_dev4Gx16,	1067,	4096,	16, 32,	tag_exttemp_1067mhz_32b_dev4Gx16 },
	{ exttemp_533mhz_32b_dev4Gx16,	533,	4096,	16, 32,	tag_exttemp_533mhz_32b_dev4Gx16 },
	{ exttemp_800mhz_32b_dev4Gx16,	800,	4096,	16, 32,	tag_exttemp_800mhz_32b_dev4Gx16 },
	{ NULL, 0, 0, 0, 0, NULL },
};
