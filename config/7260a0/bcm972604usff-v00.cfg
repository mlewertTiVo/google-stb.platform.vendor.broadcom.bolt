# BCM972604USFF Ultra Small Form Factor
bid 0x30 # BCM972604USFF_V00_REV02

# 2GB from two 8G x16 DDR4 DRAM parts
memsys alt
ddr -n 0 -size_mb 2048 -base_mb 0 -clk 1200MHz -size_bits 8G -width 16 -phy 32 -custom ddr4

vreg -name wifi_reg -gpio upg_gio_aon -pin 4 -active hi # before used by pcie
vreg -name wifi_pwr -gpio upg_gio_aon -pin 21 -active hi # before used by pcie
pcie -controller 0 -type nominal -bus 1 -slot 0 -mac 1 -pwr wifi_reg,wifi_pwr
sdio -controller 0 -type sd -uhs 1
sdio -controller 1 -type emmc
usb -controller 0 -type nominal -bdc on # enable USB device mode

# gpio_000~004 strap, gpio
pmux -pin gpio_005,gpio_006 -sel uart_ -n 2 # UART#1
# gpio_006~020 NC
pmux -pin gpio_021 -sel sd_card0_0_cmd -pull up
pmux -pin gpio_022 -sel sd_card0_0_clk
pmux -pin gpio_023:gpio_026 -sel sd_card0_0_dat -n 4 -pull up
# gpio_027 gpio
pmux -pin gpio_028 -sel sd_card0_0_pres -pull up
# gpio_029~032 NC
pmux -pin gpio_029 -sel sd_card0_0_wprot -pull down # uSD, no pin for WP
# gpio_030~032 gpio
pmux -pin gpio_033 -sel sd_card0_0_led
pmux -pin gpio_034 -sel sd_card0_0_volt
pmux -pin gpio_035 -sel sd_card0_0_pwr0
# gpio_036~037 strap, NC
pmux -pin gpio_038 -sel enet0_link
pmux -pin gpio_039 -sel enet0_activity
# gpio_040~041 family common console
# gpio_042~082 NC

# aon_gpio_00~09 strap, gpio
pmux -pin aon_gpio_10,aon_gpio_11 -sel mpm_uart_ -n 2
# aon_gpio_12~15 gpio
pmux -pin aon_gpio_16:aon_gpio_19 -sel mpm_sf_ -n 4
pmux -pin aon_gpio_20 -sel led_out
# aon_gpio_21~27 gpio, strap
pmux -pin aon_sgpio_00,aon_sgpio_01 -sel hdmi_tx0_bsc_ -n 2
# aon_sgpio_02~03 NC
# aon_sgpio_04~05 family common BSC for BID
