# ***************************************************************************
# Broadcom Proprietary and Confidential. (c)2016 Broadcom. All rights reserved.
#
#
#
# THIS SOFTWARE MAY ONLY BE USED SUBJECT TO AN EXECUTED SOFTWARE LICENSE
# AGREEMENT  BETWEEN THE USER AND BROADCOM.  YOU HAVE NO RIGHT TO USE OR
# EXPLOIT THIS MATERIAL EXCEPT SUBJECT TO THE TERMS OF SUCH AN AGREEMENT.
#
# ***************************************************************************

[version 1.36]

include config/flashmaps.cfg
include config/stdbuild.cfg

# no SATA on 7364c0
config SATA off
config ZEUS4_2 on

[family 7364c0]
include config/A15.cfg
include config/bsp_config.cfg
include config/layout-zeus42.cfg

gset BCHP_CHIP 7364
mset BCHP_REV  c0
gset MEMC_REV B150_F002
gset MEMC_ALT B150_F002_DDR4
# board ID via BSC_M1(7364SV,7364SFF,73649C61)
i2cbus BSCB

cmdlevel 3

dts config/family-7364c0.dts
include config/A15-peripherals.cfg

# mapping between MEMC & CPU in the ascending order of MEMC and offset in MEMC
mmap 0 0x00000000 0x0000000000 0xC0000000 # [0gb..3gb)@MEMC0 -> [0gb..3gb)
mmap 0 0xC0000000 0x0100000000 0x40000000 # [3gb..4gb)@MEMC0 -> [4gb..5gb)

rtsconfig -id 0 -file config/family-7364a0-box0.rts
rtsdefault -id 1
rtsbase 0 MEMC_ARB_0_CLIENT_INFO_0

pmux -pin onoff_gpio_117,onoff_gpio_118 -sel uart_ -n 2 # UART_RXD_0 and TXD_0
pmux -pin aon_sgpio_02,aon_sgpio_03 -sel aon_bsc_m1_ -n 2 # Board ID

# nand boot shapes
nandshape 0b11000 0b00000
nandshape 0b11000 0b01000
nandshape 0b11000 0b10000

# list of possible nand chips (for all boards)
include config/nandchips.cfg

# flash map selection
mapselect STB_OLD

# Auto generate device nodes in the device tree
include config/stddevices.cfg

avs enable

# NO SDIO slot or eMMC device except SV boards
sdio -controller 0 -type nodevice
sdio -controller 1 -type nodevice

# 7364: satellite, MoCA
# 73649: satellite, MoCA, No EPHY, No GPHY, No USB3.0, No Cap touch, No TSIO
# 7374: satellite, No MoCA
# 7363: no satellite, no FSK, no disec, no terrestrial, no cable, just MoCA

[chip 7364c0]
# 1GB from two 4Gx8 DRAM parts
ddr -n 0 -size_mb 1024 -base_mb 0 -clk 1067MHz -size_bits 4G -width 8 -phy 16

# built-in Ethernet and MoCA
enet -genet 0 -phy_type INT -mdio_mode 1 -phy_speed 1000 -phy_id 1
enet -genet 1 -phy_type MOCA             -phy_speed 1000 -phy_id 257
moca -enet_node eth1 -moca_band e
pmux -pin onoff_sgpio_00,onoff_sgpio_01 -sel moca_bsc_ -n 2

[chip 73649c0]
# 512MB from one 4Gx16 DRAM part
ddr -n 0 -size_mb 512 -base_mb 0 -clk 1067MHz -size_bits 4G -width 16 -phy 16 -custom scb277

# only MoCA
enet -genet 1 -phy_type MOCA -phy_speed 1000 -phy_id 257
moca -enet_node eth1 -moca_band e
pmux -pin onoff_sgpio_00,onoff_sgpio_01 -sel moca_bsc_ -n 2

[chip 7374c0]
# 1GB from two 4Gx8 DRAM parts
ddr -n 0 -size_mb 1024 -base_mb 0 -clk 1067MHz -size_bits 4G -width 8 -phy 16

# built-in Ethernet, but no MoCA
enet -genet 0 -phy_type INT -mdio_mode 1 -phy_speed 1000 -phy_id 1
enet -genet 1 -phy_type - -phy_speed - -phy_id -

[chip 7363c0 : chip.7364c0]

[board BCM97363SVMB : chip.7363c0]
comment Silicon Verification
sdio -controller 1 -type emmc
include config/7364c0/bcm97364svmbv00.cfg

[board BCM97363SV : board.BCM97363SVMB]
bid 0x13 # sharing BCM97364SV_V10

# 1GB from two 4Gx8 DRAM parts
memsys alt
ddr -n 0 -size_mb 1024 -base_mb 0 -clk 1200MHz -size_bits 4G -width 8 -phy 16 -custom ddr4

pmux -pin onoff_gpio_098 -sel rgmii_
pmux -pin onoff_gpio_099 -sel mii_
pmux -pin onoff_gpio_100:onoff_gpio_104 -sel rgmii_ -n 5
pmux -pin onoff_gpio_105 -sel mii_
pmux -pin onoff_gpio_106:onoff_gpio_109 -sel rgmii_ -n 4
pmux -pin onoff_gpio_110:onoff_gpio_111 -sel mii_ -n 2

[board BCM97363SFF : chip.7363c0]
comment Small Form Factor
include config/7364c0/bcm97364sff-v20.cfg

[board BCM97363SFFDR4 : chip.7363c0]
comment DDR4 Small Form Factor
include config/7364c0/bcm97364sffdr4-v00.cfg

[board BCM97364SVMB : chip.7364c0]
comment Silicon Verification
sdio -controller 1 -type emmc
include config/7364c0/bcm97364svmbv00.cfg

[board BCM97364SV : board.BCM97364SVMB]
bid 0x13 # BCM97364SV_V10

# 1GB from two 4Gx8 DRAM parts
memsys alt
ddr -n 0 -size_mb 1024 -base_mb 0 -clk 1200MHz -size_bits 4G -width 8 -phy 16 -custom ddr4

pmux -pin onoff_gpio_098 -sel rgmii_
pmux -pin onoff_gpio_099 -sel mii_
pmux -pin onoff_gpio_100:onoff_gpio_104 -sel rgmii_ -n 5
pmux -pin onoff_gpio_105 -sel mii_
pmux -pin onoff_gpio_106:onoff_gpio_109 -sel rgmii_ -n 4
pmux -pin onoff_gpio_110:onoff_gpio_111 -sel mii_ -n 2

[board BCM97364SFF : chip.7364c0]
comment Small Form Factor
include config/7364c0/bcm97364sff-v20.cfg

[board BCM97364SFFDR4 : chip.7364c0]
comment DDR4 Small Form Factor
include config/7364c0/bcm97364sffdr4-v00.cfg

[board BCM973649C61 : chip.73649c0]
comment MoCA Client
bid 0x30 # BCM973649C61_V00_REV01

# onoff_sgpio_00~01 chip common MOCA BSC
# onoff_gpio_000 NC
pmux -pin onoff_gpio_001 -sel sds_bert_data_alt
# onoff_gpio_002~004 NC
pmux -pin onoff_gpio_005 -sel sds_bert_clk_alt
# onoff_gpio_006~050 NC
# onoff_gpio_051~081 non-existing
# onoff_gpio_082 NC
pmux -pin onoff_gpio_083 -sel uart_txd_1
# onoff_gpio_084~085 NC
pmux -pin onoff_gpio_086 -sel uart_rxd_1
# onoff_rsvd_gpio_087~117 NC
pmux -pin onoff_gpio_112 -sel uart_txd_2
# onoff_gpio_113 NC
pmux -pin onoff_gpio_114 -sel uart_rxd_2
# onoff_gpio_115~116 NC
# onoff_gpio_117~118 family common console uart
# onoff_gpio_119~123 non-existing
# onoff_gpio_124 pulled down
# aon_gpio_00~13 NC,gpio,strap
pmux -pin aon_gpio_14,aon_gpio_15 -sel rf4ce_ -n 2
pmux -pin aon_sgpio_00,aon_sgpio_01 -sel hdmi_tx_bsc_ -n 2
# aon_sgpio_02~03 family common BSC for Board ID

[board BCM973649LC61 : board.BCM973649C61]
comment MoCA Client
bid 0x31 # BCM973649LC61_V00_REV01

moca -enet_node eth1 -moca_band h

[board BCM97374SVMB : chip.7374c0]
comment Silicon Verification
sdio -controller 1 -type emmc
include config/7364c0/bcm97364svmbv00.cfg

[board BCM97374SV : board.BCM97374SVMB]
bid 0x13 # sharing BCM97364SV_V10

# 1GB from two 4Gx8 DRAM parts
memsys alt
ddr -n 0 -size_mb 1024 -base_mb 0 -clk 1200MHz -size_bits 4G -width 8 -phy 16 -custom ddr4

pmux -pin onoff_gpio_098 -sel rgmii_
pmux -pin onoff_gpio_099 -sel mii_
pmux -pin onoff_gpio_100:onoff_gpio_104 -sel rgmii_ -n 5
pmux -pin onoff_gpio_105 -sel mii_
pmux -pin onoff_gpio_106:onoff_gpio_109 -sel rgmii_ -n 4
pmux -pin onoff_gpio_110:onoff_gpio_111 -sel mii_ -n 2

[board BCM97374SFF : chip.7374c0]
comment Small Form Factor
include config/7364c0/bcm97364sff-v20.cfg

[board BCM97374SFFDR4 : chip.7374c0]
comment DDR4 Small Form Factor
include config/7364c0/bcm97364sffdr4-v00.cfg

[end]
